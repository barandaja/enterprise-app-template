# Enterprise Auth Service Configuration Example
# Copy this file to .env and update with your actual values
# All values marked as REQUIRED must be set or the service will fail to start

# Environment Configuration
ENVIRONMENT=production  # development, staging, production
DEBUG=false  # MUST be false in production

# Security Keys - REQUIRED
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=  # REQUIRED: Min 32 characters, used for JWT signing
ENCRYPTION_KEY=  # REQUIRED: Min 32 characters, used for PII encryption

# Database Configuration - REQUIRED
# Format: postgresql+asyncpg://user:password@host:port/database?sslmode=require
DATABASE_URL=  # REQUIRED: PostgreSQL connection string with SSL

# Redis Configuration - REQUIRED
# Format: rediss://default:password@host:port/db (note: rediss for SSL)
REDIS_URL=  # REQUIRED: Redis connection string
REDIS_PASSWORD=  # Optional if using ACL
REDIS_SSL=true  # REQUIRED in production

# CORS Configuration - REQUIRED in production
# Comma-separated list of allowed origins
BACKEND_CORS_ORIGINS=https://app.example.com,https://admin.example.com

# Email Configuration - REQUIRED for password reset
SMTP_HOST=smtp.sendgrid.net  # REQUIRED
SMTP_PORT=587
SMTP_USER=apikey  # REQUIRED
SMTP_PASSWORD=  # REQUIRED: Your SMTP password/API key
SMTP_TLS=true
EMAILS_FROM_EMAIL=noreply@example.com  # REQUIRED
EMAILS_FROM_NAME=Enterprise Auth Service

# OAuth2 Providers - Optional
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Monitoring - REQUIRED in production
SENTRY_DSN=  # REQUIRED in production: Sentry error tracking
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317

# Cloud Provider Settings - Optional
GCP_PROJECT_ID=
GCP_SERVICE_ACCOUNT_KEY=

# Connection Pool Tuning (Optional - has sensible defaults)
# DATABASE_POOL_SIZE=50  # Default: 50 connections
# DATABASE_MAX_OVERFLOW=100  # Default: 100 overflow connections
# DATABASE_POOL_TIMEOUT=30  # Default: 30 seconds
# DATABASE_POOL_RECYCLE=1800  # Default: 30 minutes
# REDIS_POOL_SIZE=50  # Default: 50 connections

# Rate Limiting Configuration (Optional - has sensible defaults)
# Per-endpoint rate limits for enterprise use
# RATE_LIMIT_LOGIN_PER_MINUTE=5  # Default: 5 login attempts/minute
# RATE_LIMIT_LOGIN_PER_HOUR=20  # Default: 20 login attempts/hour
# RATE_LIMIT_LOGIN_PER_DAY=100  # Default: 100 login attempts/day
# RATE_LIMIT_API_PER_MINUTE=100  # Default: 100 API calls/minute per user
# RATE_LIMIT_API_PER_HOUR=3000  # Default: 3000 API calls/hour per user
# RATE_LIMIT_ADMIN_PER_MINUTE=200  # Default: 200 admin calls/minute
# RATE_LIMIT_ADMIN_PER_HOUR=6000  # Default: 6000 admin calls/hour
# RATE_LIMIT_GLOBAL_PER_MINUTE=300  # Default: 300 calls/minute per IP
# RATE_LIMIT_GLOBAL_PER_HOUR=10000  # Default: 10000 calls/hour per IP

# Session Configuration (Optional - has sensible defaults)
# SESSION_LIFETIME_SECONDS=3600  # Default: 1 hour
# SESSION_IDLE_TIMEOUT_SECONDS=1800  # Default: 30 minutes

# Password Policy (Optional - has sensible defaults)
# PASSWORD_MIN_LENGTH=12  # Default: 12 characters
# PASSWORD_HISTORY_COUNT=5  # Default: Remember last 5 passwords
# PASSWORD_MAX_AGE_DAYS=90  # Default: 90 days

# Token Expiration (Optional - has sensible defaults)
# ACCESS_TOKEN_EXPIRE_MINUTES=15  # Default: 15 minutes
# REFRESH_TOKEN_EXPIRE_DAYS=7  # Default: 7 days

# Compliance Settings (Optional - has sensible defaults)
# GDPR_DATA_RETENTION_DAYS=730  # Default: 2 years
# HIPAA_COMPLIANT_MODE=true  # Default: true
# SOC2_COMPLIANT_MODE=true  # Default: true