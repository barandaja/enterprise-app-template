version: '3.8'

# This file is automatically generated and contains environment variable references
# It allows services to use variables from the main .env file

services:
  postgres:
    environment:
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
      - AUTH_DB_PASSWORD=${AUTH_DB_PASSWORD}
      - USER_DB_PASSWORD=${USER_DB_PASSWORD}

  redis:
    # Temporarily disable password for debugging
    # command: redis-server --requirepass ${REDIS_PASSWORD}

  auth-service:
    # env_file disabled to use explicit environment variables from main docker-compose.yml

  user-service:
    env_file:
      - .env
      - ./services/user-service/.env

  api-gateway:
    env_file:
      - .env
      - ./services/api-gateway/.env

  frontend:
    env_file:
      - ./frontend/.env.local
