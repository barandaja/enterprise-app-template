# Docker Compose Environment Configuration
# This file contains sensitive default values for local development
# Copy to .env and modify for your environment
# NEVER commit the actual .env file to version control

# ========================================
# Database Configuration
# ========================================
POSTGRES_DB=enterprise_db
POSTGRES_USER=enterprise_user
# Generate secure password: openssl rand -base64 32
POSTGRES_PASSWORD=changeme_$(openssl rand -hex 16)
POSTGRES_MULTIPLE_DATABASES=auth_db,user_db,gateway_db

# ========================================
# Redis Configuration
# ========================================
# Generate secure password: openssl rand -base64 32
REDIS_PASSWORD=changeme_$(openssl rand -hex 16)

# ========================================
# Auth Service Configuration
# ========================================
# Generate secure JWT secret: openssl rand -base64 64
JWT_SECRET_KEY=changeme_$(openssl rand -hex 32)
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# Security Configuration
# ========================================
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
SESSION_TIMEOUT_MINUTES=30
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ========================================
# Admin Tools Configuration
# ========================================
PGADMIN_DEFAULT_EMAIL=admin@enterprise.local
# Generate secure password: openssl rand -base64 16
PGADMIN_DEFAULT_PASSWORD=changeme_$(openssl rand -hex 8)

# ========================================
# Network Configuration
# ========================================
# Frontend network (DMZ)
FRONTEND_SUBNET=172.28.0.0/24
# Backend services network
BACKEND_SUBNET=172.28.1.0/24
# Database network
DATABASE_SUBNET=172.28.2.0/24
# Admin tools network
ADMIN_SUBNET=172.28.3.0/24

# ========================================
# Volume Encryption (Optional)
# ========================================
# Enable encrypted volumes (requires Docker plugin)
ENABLE_VOLUME_ENCRYPTION=false

# ========================================
# Resource Limits
# ========================================
# PostgreSQL
POSTGRES_MEMORY_LIMIT=1g
POSTGRES_CPU_LIMIT=1.0

# Redis
REDIS_MEMORY_LIMIT=512m
REDIS_CPU_LIMIT=0.5

# Services
SERVICE_MEMORY_LIMIT=512m
SERVICE_CPU_LIMIT=0.5

# Frontend
FRONTEND_MEMORY_LIMIT=256m
FRONTEND_CPU_LIMIT=0.25